{"ast":null,"code":"import axios from 'axios';\nimport { getAccessToken, removeAccessToken } from '../utils/localStorage';\nimport { API_ENDPOINT_URL } from './env';\naxios.defaults.baseURL = API_ENDPOINT_URL;\naxios.interceptors.request.use(config => {\n  const token = getAccessToken();\n\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n\n  return config;\n}, err => Promise.reject(err));\naxios.interceptors.response.use(response => response, err => {\n  if (err.response.status === 401) {\n    removeAccessToken();\n    return window.location.replace('/');\n  }\n\n  return Promise.reject(err);\n});\nexport default axios;","map":{"version":3,"names":["axios","getAccessToken","removeAccessToken","API_ENDPOINT_URL","defaults","baseURL","interceptors","request","use","config","token","headers","Authorization","err","Promise","reject","response","status","window","location","replace"],"sources":["/Users/jeffymonday/Desktop/meowmeowshop/Frontend/src/config/axios.js"],"sourcesContent":["import axios from 'axios';\nimport { getAccessToken, removeAccessToken } from '../utils/localStorage';\nimport { API_ENDPOINT_URL } from './env';\n\naxios.defaults.baseURL = API_ENDPOINT_URL;\n\naxios.interceptors.request.use(\n\t(config) => {\n\t\tconst token = getAccessToken();\n\t\tif (token) {\n\t\t\tconfig.headers.Authorization = `Bearer ${token}`;\n\t\t}\n\t\treturn config;\n\t},\n\t(err) => Promise.reject(err)\n);\n\naxios.interceptors.response.use(\n\t(response) => response,\n\t(err) => {\n\t\tif (err.response.status === 401) {\n\t\t\tremoveAccessToken();\n\t\t\treturn window.location.replace('/');\n\t\t}\n\t\treturn Promise.reject(err);\n\t}\n);\n\nexport default axios;\n"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,cAAT,EAAyBC,iBAAzB,QAAkD,uBAAlD;AACA,SAASC,gBAAT,QAAiC,OAAjC;AAEAH,KAAK,CAACI,QAAN,CAAeC,OAAf,GAAyBF,gBAAzB;AAEAH,KAAK,CAACM,YAAN,CAAmBC,OAAnB,CAA2BC,GAA3B,CACEC,MAAD,IAAY;EACX,MAAMC,KAAK,GAAGT,cAAc,EAA5B;;EACA,IAAIS,KAAJ,EAAW;IACVD,MAAM,CAACE,OAAP,CAAeC,aAAf,GAAgC,UAASF,KAAM,EAA/C;EACA;;EACD,OAAOD,MAAP;AACA,CAPF,EAQEI,GAAD,IAASC,OAAO,CAACC,MAAR,CAAeF,GAAf,CARV;AAWAb,KAAK,CAACM,YAAN,CAAmBU,QAAnB,CAA4BR,GAA5B,CACEQ,QAAD,IAAcA,QADf,EAEEH,GAAD,IAAS;EACR,IAAIA,GAAG,CAACG,QAAJ,CAAaC,MAAb,KAAwB,GAA5B,EAAiC;IAChCf,iBAAiB;IACjB,OAAOgB,MAAM,CAACC,QAAP,CAAgBC,OAAhB,CAAwB,GAAxB,CAAP;EACA;;EACD,OAAON,OAAO,CAACC,MAAR,CAAeF,GAAf,CAAP;AACA,CARF;AAWA,eAAeb,KAAf"},"metadata":{},"sourceType":"module"}